{% extends 'base_auth_full.html.twig' %}

{% block title %}Choisissez votre mot de passe{% endblock %}

{% block body %}
    <h4 class="text-left mb-4">
        <i class="bi bi-lock-fill"></i> Bonjour {{ firstName }} !
    </h4>

    <p class="text-muted text-left mb-4">
        Heureux de vous revoir ðŸŽ‰<br>
        Veuillez choisir un mot de passe pour finaliser la configuration de votre compte.
    </p>

    {# Flash messages #}
    {% for label, messages in app.flashes %}
        {% for message in messages %}
            <div class="alert alert-{{ label }} mb-3">
                {{ message }}
            </div>
        {% endfor %}
    {% endfor %}

    {{ form_start(form, { attr: { class: 'd-flex flex-column gap-3', autocomplete: 'off' } }) }}

    {# Password field #}
    <div class="form-floating">
        {{ form_widget(form.password.first, { attr: { class: 'form-control', placeholder: 'Mot de passe' } }) }}
        <label for="{{ form.password.first.vars.id }}">
            <i class="bi bi-lock"></i> Mot de passe
        </label>
        <small class="form-text text-muted">
            Entrez un mot de passe dâ€™au moins 6 caractÃ¨res.
        </small>
        {{ form_errors(form.password.first) }}
    </div>

    {# Confirm password field #}
    <div class="form-floating">
        {{ form_widget(form.password.second, { attr: { class: 'form-control', placeholder: 'Confirmez le mot de passe' } }) }}
        <label for="{{ form.password.second.vars.id }}">
            <i class="bi bi-lock-fill"></i> Confirmez le mot de passe
        </label>
        <small class="form-text text-muted">
            RÃ©pÃ©tez le mÃªme mot de passe pour confirmation.
        </small>
        {{ form_errors(form.password.second) }}
    </div>

    <button class="btn btn-primary w-100 d-flex align-items-center justify-content-center gap-2" type="submit">
        Enregistrer le mot de passe <i class="bi bi-arrow-right-circle"></i>
    </button>

    {{ form_end(form) }}
{% endblock %}
